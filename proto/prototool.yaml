excludes:
  - dist
  - hello
  - proto-go
  - target
  - .cache

protoc:
  version: 3.17.3

lint:
  ignores:
  group: empty
  rules:
    add:
      - COMMENTS_NO_C_STYLE
      - COMMENTS_NO_INLINE
      # - ENUMS_HAVE_COMMENTS
      - ENUMS_HAVE_SENTENCE_COMMENTS
      - ENUMS_NO_ALLOW_ALIAS
      - ENUM_FIELD_PREFIXES_EXCEPT_MESSAGE
      - ENUM_NAMES_CAMEL_CASE
      - ENUM_NAMES_CAPITALIZED
      - ENUM_ZERO_VALUES_INVALID_EXCEPT_MESSAGE
      - ENUM_FIELDS_HAVE_SENTENCE_COMMENTS
      - FIELDS_NOT_RESERVED
      - FILE_HEADER
      - FILE_NAMES_LOWER_SNAKE_CASE
      - FILE_OPTIONS_CSHARP_NAMESPACE_SAME_IN_DIR
      - FILE_OPTIONS_EQUAL_CSHARP_NAMESPACE_CAPITALIZED
      - FILE_OPTIONS_EQUAL_GO_PACKAGE_V2_SUFFIX
      - FILE_OPTIONS_EQUAL_JAVA_MULTIPLE_FILES_TRUE
      - FILE_OPTIONS_EQUAL_JAVA_OUTER_CLASSNAME_PROTO_SUFFIX
      - FILE_OPTIONS_EQUAL_JAVA_PACKAGE_PREFIX
      # - FILE_OPTIONS_EQUAL_OBJC_CLASS_PREFIX_ABBR
      - FILE_OPTIONS_EQUAL_PHP_NAMESPACE_CAPITALIZED
      # - FILE_OPTIONS_GO_PACKAGE_NOT_LONG_FORM
      - FILE_OPTIONS_GO_PACKAGE_SAME_IN_DIR
      - FILE_OPTIONS_JAVA_MULTIPLE_FILES_SAME_IN_DIR
      - FILE_OPTIONS_JAVA_PACKAGE_SAME_IN_DIR
      # - FILE_OPTIONS_OBJC_CLASS_PREFIX_SAME_IN_DIR
      - FILE_OPTIONS_PHP_NAMESPACE_SAME_IN_DIR
      - FILE_OPTIONS_REQUIRE_GO_PACKAGE
      - FILE_OPTIONS_REQUIRE_JAVA_MULTIPLE_FILES
      - FILE_OPTIONS_REQUIRE_JAVA_OUTER_CLASSNAME
      - FILE_OPTIONS_REQUIRE_JAVA_PACKAGE
      # - FILE_OPTIONS_REQUIRE_OBJC_CLASS_PREFIX
      # - FILE_OPTIONS_REQUIRE_PHP_NAMESPACE
      - IMPORTS_NOT_PUBLIC
      - IMPORTS_NOT_WEAK
      - MESSAGE_FIELDS_HAVE_SENTENCE_COMMENTS
      # - MESSAGES_HAVE_COMMENTS_EXCEPT_REQUEST_RESPONSE_TYPES
      # - MESSAGES_HAVE_SENTENCE_COMMENTS_EXCEPT_REQUEST_RESPONSE_TYPES
      # - MESSAGES_HAVE_COMMENTS
      # - MESSAGES_HAVE_SENTENCE_COMMENTS
      - MESSAGE_FIELDS_NO_JSON_NAME
      - MESSAGE_FIELD_NAMES_FILENAME
      - MESSAGE_FIELD_NAMES_FILEPATH
      - MESSAGE_FIELD_NAMES_LOWER_SNAKE_CASE
      - MESSAGE_FIELD_NAMES_NO_DESCRIPTOR
      - MESSAGE_NAMES_CAMEL_CASE
      - MESSAGE_NAMES_CAPITALIZED
      - NAMES_NO_COMMON
      - NAMES_NO_DATA
      - NAMES_NO_UUID
      - ONEOF_NAMES_LOWER_SNAKE_CASE
      - PACKAGES_SAME_IN_DIR
      - PACKAGE_IS_DECLARED
      - PACKAGE_LOWER_CASE
      - PACKAGE_MAJOR_BETA_VERSIONED
      - PACKAGE_NO_KEYWORDS
      - REQUEST_RESPONSE_NAMES_MATCH_RPC
      # - REQUEST_RESPONSE_TYPES_AFTER_SERVICE
      # REQUEST_RESPONSE_TYPES_IN_SAME_FILE
      # - REQUEST_RESPONSE_TYPES_ONLY_IN_FILE
      # - REQUEST_RESPONSE_TYPES_UNIQUE
      # - RPCS_HAVE_COMMENTS
      - RPCS_HAVE_SENTENCE_COMMENTS
      - RPC_NAMES_CAMEL_CASE
      - RPC_NAMES_CAPITALIZED
      # - SERVICES_HAVE_COMMENTS
      - SERVICES_HAVE_SENTENCE_COMMENTS
      # - SERVICE_NAMES_API_SUFFIX
      - SERVICE_NAMES_CAMEL_CASE
      - SERVICE_NAMES_CAPITALIZED
      - SERVICE_NAMES_MATCH_FILE_NAME
      - SYNTAX_PROTO3
      - WKT_DIRECTLY_IMPORTED
      - WKT_DURATION_SUFFIX
      - WKT_TIMESTAMP_SUFFIX
  java_package_prefix: pb

generate:
  go_options:
    import_path: github.com/gotomicro/go-engineering
  plugins:
    - name: go
      type: go
      output: pb
    - name: go-grpc
      type: go
      output: pb
    - name: go-errors
      type: go
      flags: file=errors.proto
      output: pb
